{"version":3,"sources":["../../src/pages/change-password/change-password.module.ts","../../src/pages/change-password/change-password.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangePasswordPage } from './change-password';\n\n@NgModule({\n  declarations: [\n    ChangePasswordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChangePasswordPage),\n  ],\n})\nexport class ChangePasswordPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,LoadingController,ToastController } from 'ionic-angular';\nimport { FormBuilder, Validators,FormGroup } from '@angular/forms';\nimport { Storage } from '@ionic/storage';\nimport { AuthenticateProvider } from '../../providers/authenticate/authenticate';\n@IonicPage()\n@Component({\n  selector: 'page-change-password',\n  templateUrl: 'change-password.html',\n})\nexport class ChangePasswordPage {\n\n\t oldPass:any;\n\t newPass:any;\n\t conPass:any;\n\t changeForm:FormGroup;\n\t loading:any;\n  \tconstructor(\n\t\tprivate navCtrl: NavController, \n\t\tprivate navParams: NavParams,\n\t\tprivate formBuilder:FormBuilder,\n\t\tprivate loadingCtrl:LoadingController,\n\t\tprivate storage:Storage,\n\t\tprivate authProvider:AuthenticateProvider,\n\t\tprivate toastCtrl:ToastController) {\n\n\tlet PASSWORD_REGEXP=/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{1,}$/i;  \n\n\tthis.changeForm = formBuilder.group({\n\t  oldPass: ['', Validators.compose([Validators.minLength(6), Validators.maxLength(20), Validators.required])],\n\t  newpass: ['', Validators.compose([Validators.minLength(6), Validators.maxLength(20), Validators.pattern(PASSWORD_REGEXP),Validators.required])],\n\t  conpass: ['', Validators.compose([Validators.minLength(6), Validators.maxLength(20), Validators.required])],\n\t},{validator: this.matchingPasswords('newpass', 'conpass')});\n\n\n  \t//attached control with form\n    this.oldPass=this.changeForm.controls['oldPass'];\n    this.newPass=this.changeForm.controls['newpass'];\n    this.conPass=this.changeForm.controls['conpass'];\n\n  \t}\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChangePasswordPage');\n  }\n\n  closeScreen(){\n  \tthis.navCtrl.pop();\n  }\n\n\n  matchingPasswords(passwordKey: string, confirmPasswordKey: string) {\n    // TODO maybe use this https://github.com/yuyang041060120/ng2-validation#notequalto-1\n    return (group: FormGroup): {[key: string]: any} => {\n      let password = group.controls[passwordKey];\n      let confirmPassword = group.controls[confirmPasswordKey];\n\n      if (password.value !== confirmPassword.value) {\n        return {\n          mismatchedPasswords: true\n        };\n      }\n    }\n  }\n\n\n  changePassword(){\n\n\tthis.loading=this.loadingCtrl.create({\n        spinner:'bubbles',\n        content:`Please wait..`\n      });\n  \n  \tthis.loading.present();\n\n  \tthis.storage.get('userId').then((data)=>{\n      \t\t\n      \tthis.authProvider.changePassword(data,this.oldPass.value,this.newPass.value).subscribe(\n      \t\tdata=>{\n      \t\t\tthis.loading.dismiss();\n\n      \t\t\tif(data.json().msg==\"error\"){\n      \t\t\t\tthis.presentToast(data.json().msg_details,0);\n      \t\t\t\tthis.changeForm.reset();\n      \t\t\t}\n\n      \t\t\tif(data.json().msg==\"success\"){\n      \t\t\t\tthis.presentToast(data.json().msg_details,1);\n      \t\t\t\tthis.changeForm.reset();\n      \t\t\t}\n\n      \t\t},\n      \t\terr=>{\n      \t\t\tthis.loading.dismiss();\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n      \t\t}\n      \t\t);\n      });\n\n  }\n\n  presentToast(msg,id) {\n\n\t  let toast = this.toastCtrl.create({\n\t    message: msg,\n\t    duration: 3000,\n\t    position: 'top'\n\t  });\n\n\t  if(id==1){\t\n\t\t  toast.onDidDismiss(() => {\n\t\t  \tthis.navCtrl.pop();\n\t\t  });\t\n\t  }\n\n\t  toast.present();\n}\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.ts"],"sourceRoot":""}